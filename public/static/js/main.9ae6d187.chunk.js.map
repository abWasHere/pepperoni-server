{"version":3,"sources":["components/auth/PrivateRoute.js","api/authApiHandler.js","store/actions/authActions.js","components/navMain/_NavLinksAuth.jsx","components/navMain/_NavLinksAdmin.jsx","components/navMain/_NavLinksClients.jsx","components/navMain/Navbar.jsx","components/homePages/_Banner.jsx","components/homePages/_About.jsx","components/homePages/_Carousel.jsx","assets/img/restaurant/restau-1.jpg","assets/img/restaurant/restau-2.jpg","assets/img/restaurant/restau-3.jpg","assets/img/restaurant/restau-4.jpg","assets/img/restaurant/restau-5.jpg","assets/img/restaurant/restau-6.jpg","components/homePages/_Gallery.jsx","components/homePages/Home.jsx","api/foodApiHandler.js","store/actions/foodActions.js","components/Menu.jsx","api/reservationApiHandler.js","store/actions/reservationActions.js","assets/data/openingHours.js","components/forms/_ReservationForm.jsx","utils/filterCalendarDates.js","components/Reservation.jsx","components/footer/_Contact.jsx","components/footer/_Location.jsx","components/footer/_Timetable.jsx","components/footer/Footer.jsx","components/forms/_LoginForm.jsx","components/auth/LogIn.jsx","components/adminPages/ReservationList.jsx","utils/confirmationPrompts.js","components/forms/_MenuCreateForm.jsx","components/forms/_MenuUpdateForm.jsx","components/adminPages/EditMenu.jsx","api/userApiHandler.js","store/actions/userActions.js","components/forms/_EmployeeRegistrationForm.jsx","components/adminPages/_EmployeesListTable.jsx","components/adminPages/EmployeesList.jsx","App.js","reportWebVitals.js","store/reducers/_authReducer.js","store/reducers/_userReducer.js","store/reducers/_foodReducer.js","store/reducers/_reservationReducer.js","store/reducers/rootReducer.js","index.js"],"names":["PrivateRoute","ProtectedComponent","component","rest","auth","useSelector","state","authStore","render","props","isAuthentificated","to","service","axios","create","baseURL","process","withCredentials","api","registerUser","newUser","post","login","creds","isLoggedIn","id","get","logout","errorActionCreator","errorType","error","type","payload","dispatch","a","authApi","res","data","withRouter","useDispatch","className","style","cursor","user","privileges","firstName","onClick","localStorage","removeItem","setTimeout","history","push","Navbar","_Banner","_About","carouselImages","url","alt","_Carousel","React","useState","index","setIndex","Carousel","activeIndex","onSelect","selectedIndex","e","map","img","Item","interval","src","Caption","_Gallery","Home","getAllFood","getMeal","createMeal","newMeal","updateMeal","meal","patch","deleteMeal","delete","getMenu","foodApi","updatedInfos","Menu","menu","foodStore","useEffect","category","foodName","description","price","_id","getAllReservations","postSlot","dateTime","postReservation","resa","cancelReservation","getTables","getSlot","reservationApi","reservation","slotID","tableID","amHours","pmHours","dayHours","openingHours","day","hours","_ReservationForm","maxCapacity","slot","reservationStore","Math","max","tables","table","capacity","successMessage","errorMessage","step1","setStep1","Date","startDate","setStartDate","time","setTime","openHours","filter","moment","getDay","seats","client","clientName","clientPhone","clientEmail","booking","setBooking","requestedDate","requestedTime","errorMessageFor","field","unavailability","handleChange","evt","key","target","name","value","Number","handleSubmit","preventDefault","onChange","onSubmit","dateFormat","minDate","maxDate","setMonth","getMonth","filterDate","date","unavailableDate1","unavailableDate2","appDates","selected","required","hidden","hour","i","min","Reservation","_Contact","href","noopener","_Location","_Timetable","Footer","_LoginForm","pseudo","elements","password","setItem","JSON","stringify","cookie","message","invalidCredentials","LogIn","ReservationList","document","title","reservations","handleDelete","toLocaleString","slice","tableName","checkDelete","prompt","toLowerCase","console","log","beforeDelete","confirmDelete","elementName","callback","foodState","mealData","setMealData","validation","setValidation","validationErr","setValidationErr","callbackCreate","checkCreate","confirmCreate","disabled","default","go","currentMeal","setCurrentMeal","confirmation","setConfirmation","pickedMealId","pickedMeal","initialData","getElementById","match","params","mode","Fragment","getAllUsers","getOneUser","deleteUser","updateUser","userApi","_EmployeeRegistrationForm","lastName","email","_EmployeesListTable","userState","userStore","authState","deletedEmployee","setDeletedEmployee","employeeId","userToDelete","users","find","employee","callbackDelete","EmployeesList","App","exact","path","EditMenu","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initState","warningMessage","authReducer","action","response","errors","errorMessages","userReducer","length","pickedUser","foodReducer","isAvailable","reservationReducer","bookedTables","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","sessionCookie","sessionUser","session","parse","currentUser","now","expires","getTime","ReactDOM"],"mappings":"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","file":"static/js/main.9ae6d187.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst PrivateRoute = ({ component: ProtectedComponent, ...rest }) => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tauth.isAuthentificated === true ? (\r\n\t\t\t\t\t<ProtectedComponent {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/admin/login\" />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/auth\",\r\n\twithCredentials: true, // Cookie is sent to client (used for session)\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tregisterUser(newUser) {\r\n\t\treturn service.post(\"/signup\", newUser);\r\n\t},\r\n\r\n\tlogin(creds) {\r\n\t\treturn service.post(\"/login\", creds);\r\n\t},\r\n\r\n\tisLoggedIn(id) {\r\n\t\treturn service.get(`isLoggedIn/${id}`);\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn service.get(\"/logout\");\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import authApi from \"./../../api/authApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Register new employee */\r\nexport const registerUser = (newUser) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.registerUser(newUser);\r\n\t\t\tdispatch({ type: \"auth/registerUser\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/registerUser_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Log in */\r\nexport const login = (user) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.login(user);\r\n\r\n\t\t\tlocalStorage.setItem(\"sessionCookie\", JSON.stringify(res.data.cookie));\r\n\t\t\tlocalStorage.setItem(\"sessionUser\", JSON.stringify(res.data.user));\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: \"auth/login\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuser: res.data.user,\r\n\t\t\t\t\tmessage: res.data.successMessage,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/login_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Check logged in user */\r\nexport const isLoggedIn = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.isLoggedIn(id);\r\n\t\t\tdispatch({ type: \"auth/isLoggedIn\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/isLoggedIn_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Logout */\r\nexport const logout = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await authApi.logout();\r\n\t\t\tlocalStorage.removeItem(\"sessionCookie\");\r\n\t\t\tlocalStorage.removeItem(\"sessionUser\");\r\n\t\t\tdispatch({ type: \"auth/logout\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"auth/logout_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Clear auth messages */\r\nexport const clearMessages = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({ type: \"auth/clearMessages\" });\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout, clearMessages } from \"./../../store/actions/authActions\";\r\n\r\nconst _NavLinksAuth = (props) => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(logout());\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 4000);\r\n\t\tprops.history.push(\"/admin/login\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"NavLinksAuth\">\r\n\t\t\t<ul className=\"flex-row\">\r\n\t\t\t\t{!auth.isAuthentificated && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<NavLink to=\"/admin/login\" className=\"nav-link\">\r\n\t\t\t\t\t\t\tPersonnel\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{auth.isAuthentificated && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<li className=\"nav-link\" style={{ cursor: \"default\" }}>\r\n\t\t\t\t\t\t\t{auth.user.privileges} : <b>{auth.user.firstName}</b>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t{auth.user.privileges === \"admin\" && (\r\n\t\t\t\t\t\t\t<NavLink to=\"/admin/staff\" className=\"nav-link\">\r\n\t\t\t\t\t\t\t\tListe du Personnel\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<li onClick={handleLogout} className=\"nav-link\">\r\n\t\t\t\t\t\t\tDéconnexion\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_NavLinksAuth);\r\n","import React from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst _NavLinksAdmin = () => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\tif (!auth.isAuthentificated) return <div></div>;\r\n\treturn (\r\n\t\t<div className=\"NavLinks\">\r\n\t\t\t<ul className=\"flex-row sp-center\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink to=\"/admin/menu/update\" className=\"nav-link\">\r\n\t\t\t\t\t\tModifier la carte\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink to=\"/admin/reservations\" className=\"nav-link\">\r\n\t\t\t\t\t\tVoir les réservations\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_NavLinksAdmin);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nconst _NavLinksClients = (props) => {\r\n\treturn (\r\n\t\t<div className=\"NavLinks\">\r\n\t\t\t<ul className=\"flex-row sp-center\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/menu\" className=\"nav-link\">\r\n\t\t\t\t\t\tLa Carte\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/reservation\" className=\"nav-link\">\r\n\t\t\t\t\t\tRéserver une table\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_NavLinksClients);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport NavLinksAuth from \"./_NavLinksAuth\";\r\nimport NavLinksAdmin from \"./_NavLinksAdmin\";\r\nimport NavLinksClients from \"./_NavLinksClients\";\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<div className=\"NavMain flex-col sp-btw\">\r\n\t\t\t<NavLinksAuth />\r\n\r\n\t\t\t<header className=\"nav-header\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<h1 className=\"nav-title\">Pepperoni .</h1>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<h2 className=\"nav-subtitle\">\r\n\t\t\t\t\t<span>Italian</span> cuisine\r\n\t\t\t\t\t<span> in Paris</span>\r\n\t\t\t\t</h2>\r\n\t\t\t</header>\r\n\r\n\t\t\t<NavLinksAdmin />\r\n\r\n\t\t\t<NavLinksClients />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nconst _Banner = () => {\r\n\treturn (\r\n\t\t<div className=\"Banner flex-col sp-center\">\r\n\t\t\t<h1 className=\"title\">Pepperoni .</h1>\r\n\t\t\t<h2 className=\"banner-title\">\r\n\t\t\t\t<span>Italian</span> cuisine\r\n\t\t\t\t<span> in Paris</span>\r\n\t\t\t</h2>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Banner;\r\n","import React from \"react\";\r\n\r\nconst _About = () => {\r\n\treturn (\r\n\t\t<div className=\"About flex-row sp-center\">\r\n\t\t\t<div className=\"chef-image\"></div>\r\n\t\t\t<div className=\"chef-presentation\">\r\n\t\t\t\t<h2 className=\"sub-title\">Le mot du Chef</h2>\r\n\t\t\t\t<p className=\"citation\">\r\n\t\t\t\t\t\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas maxime\r\n\t\t\t\t\tquidem voluptate nihil nisi. Perspiciatis voluptatum delectus omnis,\r\n\t\t\t\t\tet veritatis distinctio quis non cupiditate nesciunt, molestiae rerum\r\n\t\t\t\t\tmaxime voluptas. <br /> Grazie.\"\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"chef-signature\">Toni 'Peppe' Mattarella</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _About;\r\n","import React from \"react\";\r\n\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\n\r\nimport pic1 from \"./../../assets/img/restaurant/restau-1.jpg\";\r\nimport pic2 from \"./../../assets/img/restaurant/restau-2.jpg\";\r\nimport pic3 from \"./../../assets/img/restaurant/restau-3.jpg\";\r\nimport pic4 from \"./../../assets/img/restaurant/restau-4.jpg\";\r\nimport pic5 from \"./../../assets/img/restaurant/restau-5.jpg\";\r\nimport pic6 from \"./../../assets/img/restaurant/restau-6.jpg\";\r\n\r\nconst carouselImages = [\r\n\t{ url: pic1, alt: \"Le Bar\" },\r\n\t{ url: pic2, alt: \"La Cuisine\" },\r\n\t{ url: pic3, alt: \"La Salle\" },\r\n\t{ url: pic4, alt: \"La Salle\" },\r\n\t{ url: pic5, alt: \"La Salle\" },\r\n\t{ url: pic6, alt: \"La Terrasse\" },\r\n];\r\n\r\nconst _Carousel = () => {\r\n\tconst [index, setIndex] = React.useState(0);\r\n\r\n\tconst handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t};\r\n\treturn (\r\n\t\t<Carousel activeIndex={index} onSelect={handleSelect} className=\"Carousel\">\r\n\t\t\t{carouselImages.map((img, index) => (\r\n\t\t\t\t<Carousel.Item interval={4000} key={index}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block w-9 carousel-pic\"\r\n\t\t\t\t\t\tsrc={img.url}\r\n\t\t\t\t\t\talt={img.alt}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Carousel.Caption>\r\n\t\t\t\t\t\t<p>{img.alt}</p>\r\n\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default _Carousel;\r\n","export default __webpack_public_path__ + \"static/media/restau-1.59b7cdd1.jpg\";","export default __webpack_public_path__ + \"static/media/restau-2.0fa5b68f.jpg\";","export default __webpack_public_path__ + \"static/media/restau-3.fa53906b.jpg\";","export default __webpack_public_path__ + \"static/media/restau-4.33c6db4b.jpg\";","export default __webpack_public_path__ + \"static/media/restau-5.1030acde.jpg\";","export default __webpack_public_path__ + \"static/media/restau-6.12de278b.jpg\";","import React from \"react\";\r\nimport Carousel from \"./_Carousel\";\r\n\r\nconst _Gallery = () => {\r\n\treturn (\r\n\t\t<div className=\"Gallery\">\r\n\t\t\t<h2 className=\"sub-title\">Le restaurant</h2>\r\n\t\t\t<div className=\"carousel-container\">\r\n\t\t\t\t<Carousel />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Gallery;\r\n","import React from \"react\";\r\nimport Banner from \"./_Banner\";\r\nimport About from \"./_About\";\r\nimport Gallery from \"./_Gallery\";\r\n\r\nconst Home = () => {\r\n\treturn (\r\n\t\t<div className=\"Home\">\r\n\t\t\t<Banner />\r\n\t\t\t<About />\r\n\t\t\t<Gallery />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/food\",\r\n\twithCredentials: true,\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tgetAllFood() {\r\n\t\treturn service.get();\r\n\t},\r\n\r\n\tgetMeal(id) {\r\n\t\treturn service.get(`/${id}`);\r\n\t},\r\n\r\n\tcreateMeal(newMeal) {\r\n\t\treturn service.post(\"/create\", newMeal);\r\n\t},\r\n\r\n\tupdateMeal(id, meal) {\r\n\t\treturn service.patch(`/edit/${id}`, meal);\r\n\t},\r\n\r\n\tdeleteMeal(id) {\r\n\t\treturn service.delete(`/delete/${id}`);\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import foodApi from \"./../../api/foodApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Get the menu */\r\nexport const getMenu = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await foodApi.getAllFood();\r\n\t\t\tdispatch({ type: \"food/getMenu\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"food/getMenu_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Get a meal */\r\nexport const getMeal = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await foodApi.getMeal(id);\r\n\t\t\tdispatch({ type: \"food/getMeal\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"food/getMeal_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Create a meal */\r\nexport const createMeal = (newMeal) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await foodApi.createMeal(newMeal);\r\n\t\t\tdispatch({ type: \"food/create\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"food/create_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Update a meal */\r\nexport const updateMeal = (id, updatedInfos) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await foodApi.updateMeal(id, updatedInfos);\r\n\t\tdispatch({ type: \"food/update\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"food/update_error\", err));\r\n\t}\r\n};\r\n\r\n/* Delete a meal */\r\nexport const deleteMeal = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await foodApi.deleteMeal(id);\r\n\t\tdispatch({ type: \"food/delete\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"food/delete_error\", err));\r\n\t}\r\n};\r\n\r\n/* Clear menu messages */\r\nexport const clearMessages = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({ type: \"food/clearMessages\" });\r\n\t};\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { getMenu } from \"./../store/actions/foodActions\";\r\n\r\nconst Menu = (props) => {\r\n\tconst menu = useSelector((state) => state.foodStore.menu);\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getMenu());\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"Menu\">\r\n\t\t\t<h3 className=\"sub-title\">La Carte</h3>\r\n\t\t\t<div className=\"menu menu-starters\">\r\n\t\t\t\t<h4>Antipasti</h4>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{menu.map(\r\n\t\t\t\t\t\t\t(meal) =>\r\n\t\t\t\t\t\t\t\tmeal.category === \"antipasti\" && (\r\n\t\t\t\t\t\t\t\t\t<tr key={meal._id}>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"dish-name\">{meal.foodName}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-description\">{meal.description}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-price\">{meal.price} €</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"menu menu-mains\">\r\n\t\t\t\t<h4>Plats</h4>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{menu.map(\r\n\t\t\t\t\t\t\t(meal) =>\r\n\t\t\t\t\t\t\t\tmeal.category === \"principal\" && (\r\n\t\t\t\t\t\t\t\t\t<tr key={meal._id}>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"dish-name\">{meal.foodName}</th>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-description\">{meal.description}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"dish-price\">{meal.price} €</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"menu menu-deserts\">\r\n\t\t\t\t<h4>Desserts</h4>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{menu.map(\r\n\t\t\t\t\t\t\t(meal) =>\r\n\t\t\t\t\t\t\t\tmeal.category === \"dessert\" && (\r\n\t\t\t\t\t\t\t\t\t<tr key={meal._id}>\r\n\t\t\t\t\t\t\t\t\t\t<th className=\"dish-name\">\r\n\t\t\t\t\t\t\t\t\t\t\t{meal.foodName}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"dish-price\"> - {meal.price} €</span>\r\n\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Menu;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/tables\",\r\n\twithCredentials: true,\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tgetAllReservations() {\r\n\t\treturn service.get(\"/reservations\");\r\n\t},\r\n\r\n\tpostSlot(dateTime) {\r\n\t\treturn service.post(\"/slot\", dateTime);\r\n\t},\r\n\r\n\tpostReservation(resa) {\r\n\t\treturn service.post(\"/reservation\", resa);\r\n\t},\r\n\r\n\tcancelReservation(resa) {\r\n\t\treturn service.patch(\"/cancelation\", resa);\r\n\t},\r\n\r\n\tgetTables() {\r\n\t\treturn service.get(\"/\");\r\n\t},\r\n\r\n\tgetSlot(id) {\r\n\t\treturn service.get(`/slot/${id}`);\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import reservationApi from \"./../../api/reservationApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Get all reservations */\r\nexport const getAllReservations = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.getAllReservations();\r\n\t\t\tdispatch({ type: \"reservation/getReservations\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/getReservations_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Check slot availability */\r\nexport const postSlot = (requestedDate, requestedTime) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.postSlot({\r\n\t\t\t\trequestedDate,\r\n\t\t\t\trequestedTime,\r\n\t\t\t});\r\n\t\t\tdispatch({ type: \"reservation/slot\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/slot_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Book a table on the selected slot */\r\nexport const postReservation = (reservation) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.postReservation(reservation);\r\n\t\t\tdispatch({ type: \"reservation/create\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/create_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Cancel a reservation */\r\nexport const cancelReservation = (slotID, tableID) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.cancelReservation({\r\n\t\t\t\tslotID,\r\n\t\t\t\ttableID,\r\n\t\t\t});\r\n\t\t\tdispatch({ type: \"reservation/cancel\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"reservation/cancel_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const getTables = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await reservationApi.getTables();\r\n\t\t\tdispatch({ type: \"tables/getAll\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"tables/getAll_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* getSlot(id) */\r\n\r\n/* Clear menu messages */\r\nexport const clearMessages = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch({ type: \"reservation/clearMessages\" });\r\n\t};\r\n};\r\n","const amHours = [\"12h00\", \"12h30\", \"13h00\", \"13h30\", \"14h00\"];\r\nconst pmHours = [\"19h00\", \"19h30\", \"20h00\", \"20h30\", \"21h00\", \"21h30\", \"22h00\"];\r\nconst dayHours = [...amHours, ...pmHours];\r\n\r\nconst openingHours = [\r\n\t{ day: 0, hours: amHours }, // Sunday\r\n\t{ day: 1, hours: [] }, // Monday\r\n\t{ day: 2, hours: pmHours }, // ...\r\n\t{ day: 3, hours: dayHours },\r\n\t{ day: 4, hours: dayHours },\r\n\t{ day: 5, hours: dayHours },\r\n\t{ day: 6, hours: dayHours }, // Saturday\r\n];\r\n\r\nexport { openingHours };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tpostSlot,\r\n\tpostReservation,\r\n\tclearMessages,\r\n} from \"./../../store/actions/reservationActions\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { appDates } from \"./../../utils/filterCalendarDates\";\r\nimport { openingHours } from \"./../../assets/data/openingHours\";\r\n\r\nconst _ReservationForm = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst slot = useSelector((state) => state.reservationStore.slot);\r\n\tlet maxCapacity;\r\n\tif (slot)\r\n\t\tmaxCapacity = Math.max(...slot.tables.map((table) => table.capacity));\r\n\r\n\tconst successMessage = useSelector(\r\n\t\t(state) => state.reservationStore.successMessage\r\n\t);\r\n\tconst errorMessage = useSelector(\r\n\t\t(state) => state.reservationStore.errorMessage\r\n\t);\r\n\r\n\tconst [step1, setStep1] = useState(false);\r\n\tconst [startDate, setStartDate] = useState(new Date());\r\n\tconst [time, setTime] = useState(\"\");\r\n\tconst openHours = openingHours.filter(\r\n\t\t(moment) => moment.day === startDate?.getDay()\r\n\t)[0].hours;\r\n\r\n\tconst [booking, setBooking] = useState({\r\n\t\tslotID: \"\",\r\n\t\tseats: \"\",\r\n\t\tclient: { clientName: \"\", clientPhone: \"\", clientEmail: \"\" },\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (startDate && time) {\r\n\t\t\tdispatch(postSlot(startDate, time));\r\n\t\t\tsetStep1(true);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [startDate, time]);\r\n\r\n\tuseEffect(() => {\r\n\t\tslot && setBooking({ ...booking, slotID: slot._id });\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [slot]);\r\n\r\n\tconst errorMessageFor = (field) => {\r\n\t\tif (errorMessage?.[field])\r\n\t\t\tif (field === \"unavailability\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t{errorMessage.unavailability}\r\n\t\t\t\t\t\t<br /> :(\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t{errorMessage[field]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t};\r\n\r\n\tconst handleChange = (evt) => {\r\n\t\tconst key = evt.target.name;\r\n\t\tconst value = evt.target.value;\r\n\t\tif (key === \"time\") setTime(value);\r\n\t\telse if (key === \"seats\") setBooking({ ...booking, seats: Number(value) });\r\n\t\telse\r\n\t\t\tsetBooking({ ...booking, client: { ...booking.client, [key]: value } });\r\n\t};\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tawait dispatch(postReservation(booking));\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t\t// if (!errorMessage) setStep1(false);\r\n\t\t}, 10000);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ReservationForm form-container\">\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{successMessage && <div className=\"info-box\">{successMessage}</div>}\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"mui-form\"\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"flex-row\">\r\n\t\t\t\t\t{/* Part 1 : Client pick a date and amount of seats desired */}\r\n\t\t\t\t\t<div className=\"form-left-side\">\r\n\t\t\t\t\t\t{/* ---------------Reservation Date */}\r\n\t\t\t\t\t\t<div className=\"mui-select\">\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tclassName=\"datepicker\"\r\n\t\t\t\t\t\t\t\tdateFormat=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\t\t\tminDate={new Date()}\r\n\t\t\t\t\t\t\t\tmaxDate={new Date().setMonth(new Date().getMonth() + 2)} // tables can be booked within the 2 next months\r\n\t\t\t\t\t\t\t\tfilterDate={(date) => appDates(date, 1)} // Mondays are excluded\r\n\t\t\t\t\t\t\t\tselected={startDate}\r\n\t\t\t\t\t\t\t\tonChange={(date) => {\r\n\t\t\t\t\t\t\t\t\tsetStartDate(date);\r\n\t\t\t\t\t\t\t\t\tsetTime(\"\");\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label>Date</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* ---------------Reservation Hour */}\r\n\t\t\t\t\t\t<div className=\"mui-select\">\r\n\t\t\t\t\t\t\t<select name=\"time\" onChange={handleChange} value={time} required>\r\n\t\t\t\t\t\t\t\t<option hidden={true}>Choix</option>\r\n\t\t\t\t\t\t\t\t{openHours &&\r\n\t\t\t\t\t\t\t\t\topenHours.map((hour, i) => <option key={i}>{hour}</option>)}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t<label>Heure</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* Error Messages */}\r\n\t\t\t\t\t\t{errorMessageFor(\"time\")}\r\n\t\t\t\t\t\t{errorMessageFor(\"unavailability\")}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Part 2 */}\r\n\t\t\t\t\t{step1 && (\r\n\t\t\t\t\t\t<div className=\"form-right-side\">\r\n\t\t\t\t\t\t\t{/* ---------------Reservation Seats */}\r\n\t\t\t\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\tmax={maxCapacity}\r\n\t\t\t\t\t\t\t\t\tname=\"seats\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label>Nombre de personnes</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{errorMessageFor(\"capacity\")}\r\n\t\t\t\t\t\t\t{/* ---------------ClientName */}\r\n\t\t\t\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"clientName\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label>Votre nom</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{errorMessageFor(\"clientName\")}\r\n\t\t\t\t\t\t\t{/* ---------------ClientPhone */}\r\n\t\t\t\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\t\tname=\"clientPhone\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label>Téléphone</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{errorMessageFor(\"clientPhone\")}\r\n\t\t\t\t\t\t\t{/* ---------------ClientEmail */}\r\n\t\t\t\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tname=\"clientEmail\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label>Email (optionnel)</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{errorMessageFor(\"clientEmail\")}\r\n\r\n\t\t\t\t\t\t\t{/* ------------------------------------------------------------ */}\r\n\t\t\t\t\t\t\t<div className=\"information-text\">\r\n\t\t\t\t\t\t\t\tNos tables accueillent jusqu'à {maxCapacity} couverts. <br />\r\n\t\t\t\t\t\t\t\tSi vous souhaitez réserver pour un plus grand nombre de\r\n\t\t\t\t\t\t\t\tpersonnes, merci de nous appeler directement.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn--raised\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tRéserver\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _ReservationForm;\r\n","export const isWeekday = (date) => {\r\n\tconst day = new Date(date).getDay();\r\n\treturn day !== 0 && day !== 6;\r\n};\r\n\r\nexport const appDates = (date, unavailableDate1, unavailableDate2) => {\r\n\tconst day = new Date(date).getDay();\r\n\treturn day !== unavailableDate1 && day !== unavailableDate2;\r\n};\r\n//unavailableDay = index of day starting on Sunday\r\n//Sunday -> Saturday : 0 -> 6\r\n","import React from \"react\";\r\nimport ReservationForm from \"./forms/_ReservationForm\";\r\n\r\nconst Reservation = () => {\r\n\treturn (\r\n\t\t<div className=\"Reservation\">\r\n\t\t\t<h2 className=\"sub-title\">Réserver une table</h2>\r\n\t\t\t<ReservationForm />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Reservation;\r\n","import React from \"react\";\r\n\r\nconst _Contact = () => {\r\n\treturn (\r\n\t\t<div className=\"Contact\">\r\n\t\t\t<div className=\"contact\">\r\n\t\t\t\t<p className=\"col-title\">CONTACT</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<i className=\"fas fa-phone fa-sm icon\"></i> 01 23 45 67 89\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"contact\">\r\n\t\t\t\t<p className=\"col-title\">NOS RESEAUX SOCIAUX</p>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<a href=\"/\" noopener=\"true\">\r\n\t\t\t\t\t\t<i className=\"fab fa-facebook-f fa-2x icon\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a href=\"/\" noopener=\"true\">\r\n\t\t\t\t\t\t<i className=\"fab fa-instagram fa-2x icon\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Contact;\r\n","import React from \"react\";\r\n\r\nconst _Location = () => {\r\n\treturn (\r\n\t\t<div className=\"Location\">\r\n\t\t\t<p className=\"col-title\">NOTRE ADRESSE</p>\r\n\t\t\t<p>Restaurant Pepperoni</p>\r\n\t\t\t<p>123 avenue d'Italie</p>\r\n\t\t\t<p>75013 Paris</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Location;\r\n","import React from \"react\";\r\n\r\nconst _Timetable = () => {\r\n\treturn (\r\n\t\t<div className=\"Timetable\">\r\n\t\t\t<p className=\"col-title\">HORAIRES D'OUVERTURE</p>\r\n\t\t\t<div className=\"table\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Lundi</th>\r\n\t\t\t\t\t\t\t<td>Fermé</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Mardi</th>\r\n\t\t\t\t\t\t\t<td>Fermé le midi</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Mercredi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Jeudi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Vendredi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Samedi</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>19h - 23h</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Dimanche</th>\r\n\t\t\t\t\t\t\t<td>12h - 15h</td>\r\n\t\t\t\t\t\t\t<td>Fermé le soir</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _Timetable;\r\n","import React from \"react\";\r\nimport Contact from \"./_Contact\";\r\nimport Location from \"./_Location\";\r\nimport Timetable from \"./_Timetable\";\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"Footer flex-row sp-btw align-start\">\r\n\t\t\t<Contact />\r\n\t\t\t<Location />\r\n\t\t\t<Timetable />\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { login, clearMessages } from \"./../../store/actions/authActions\";\r\n\r\nconst _LoginForm = () => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleSubmit = (evt) => {\r\n\t\tevt.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tlogin({\r\n\t\t\t\tpseudo: evt.target.elements[0].value,\r\n\t\t\t\tpassword: evt.target.elements[1].value,\r\n\t\t\t})\r\n\t\t);\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 4000);\r\n\t\tevt.target.elements[1].value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"LoginForm form-container\">\r\n\t\t\t<form className=\"mui-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"pseudo\" required />\r\n\t\t\t\t\t<label>Pseudo</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Invalid pseudo Message */}\r\n\t\t\t\t{auth.invalidCredentials?.pseudo && (\r\n\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t{auth.invalidCredentials.pseudo}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"password\" name=\"password\" required />\r\n\t\t\t\t\t<label>Mot de passe</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Invalid password Message */}\r\n\t\t\t\t{auth.invalidCredentials?.password && (\r\n\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t\t{auth.invalidCredentials.password}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"mui-btn edit\">\r\n\t\t\t\t\tValider\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{auth.successMessage && (\r\n\t\t\t\t<div className=\"info-box\">{auth.successMessage}</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _LoginForm;\r\n","import React from \"react\";\r\nimport LoginForm from \"../forms/_LoginForm\";\r\n\r\nconst LogIn = () => {\r\n\treturn (\r\n\t\t<div className=\"Login AdminPage\">\r\n\t\t\t<header className=\"form-header\">\r\n\t\t\t\t<h2 className=\"sub-title\">Espace réservé au personnel</h2>\r\n\t\t\t\t<h3>Entrez vos identifiants</h3>\r\n\t\t\t</header>\r\n\t\t\t<LoginForm />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default LogIn;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n\tgetAllReservations,\r\n\tcancelReservation,\r\n\tclearMessages,\r\n} from \"./../../store/actions/reservationActions\";\r\n\r\nconst ReservationList = () => {\r\n\tdocument.title = \"Admin | réservations\";\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getAllReservations());\r\n\t}, [dispatch]);\r\n\r\n\tconst reservations = useSelector(\r\n\t\t(state) => state.reservationStore.reservations\r\n\t);\r\n\tconst successMessage = useSelector(\r\n\t\t(state) => state.reservationStore.successMessage\r\n\t);\r\n\r\n\tconst handleDelete = async (slot, table) => {\r\n\t\tawait dispatch(cancelReservation(slot._id, table._id));\r\n\t\tawait dispatch(getAllReservations());\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 5000);\r\n\t};\r\n\r\n\tconst beforeDelete = (slot, table) => {\r\n\t\tlet checkDelete = prompt(\r\n\t\t\t`Etes-vous sûr(e) de vouloir supprimer cette réservation ? => ${slot.date\r\n\t\t\t\t.toLocaleString(\"fr-FR\")\r\n\t\t\t\t.slice(0, 10)} à ${slot.time}, au nom de ${\r\n\t\t\t\ttable.reservation[0].clientName\r\n\t\t\t}. Si oui, entrez 'o'.`,\r\n\t\t\t\"non\"\r\n\t\t);\r\n\t\tcheckDelete !== null && checkDelete.toLowerCase() === \"o\"\r\n\t\t\t? handleDelete(slot, table)\r\n\t\t\t: console.log(\"Abort delete\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ReservationList AdminPage\">\r\n\t\t\t<h2 className=\"sub-title\">Gérer les réservations</h2>\r\n\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t<th>Heure</th>\r\n\t\t\t\t\t\t<th>Table</th>\r\n\t\t\t\t\t\t<th>Couverts</th>\r\n\t\t\t\t\t\t<th>Nom</th>\r\n\t\t\t\t\t\t<th>Téléphone</th>\r\n\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{reservations?.map((slot) =>\r\n\t\t\t\t\t\tslot.tables.map((table) => (\r\n\t\t\t\t\t\t\t<tr key={table._id} className=\"reservation row\">\r\n\t\t\t\t\t\t\t\t<td>{slot.date.toLocaleString(\"fr-FR\").slice(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t<td>{slot.time}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.tableName}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.capacity}</td>\r\n\t\t\t\t\t\t\t\t{/* TODO: mettre le nombre réels de places réservées => changer le tableModel */}\r\n\t\t\t\t\t\t\t\t<td>{table.reservation[0].clientName}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.reservation[0].clientPhone}</td>\r\n\t\t\t\t\t\t\t\t<td>{table.reservation[0].clientEmail}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => beforeDelete(slot, table)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn delete\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash-alt fa-sm\"></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{successMessage && <div className=\"info-box\">{successMessage}</div>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ReservationList;\r\n","export const confirmDelete = (elementName, callback) => {\r\n\tconsole.log(\"Trying to delete =>\", elementName);\r\n\tlet checkDelete = prompt(\r\n\t\t`Etes-vous sûr(e) de vouloir supprimer ${elementName} ? \\nSi oui, entrez \"o\".`,\r\n\t\t\"non\"\r\n\t);\r\n\tcheckDelete !== null && checkDelete.toLowerCase() === \"o\"\r\n\t\t? callback() // function handling delete after confirmation\r\n\t\t: console.log(\"Abort delete\");\r\n};\r\n\r\nexport const confirmCreate = (elementName, callback) => {\r\n\tconsole.log(\"Trying to create =>\", elementName);\r\n\tlet checkCreate = prompt(\r\n\t\t`Etes-vous sûr(e) de vouloir ajouter ${elementName} ? \\nSi oui, entrez \"o\".`,\r\n\t\t\"non\"\r\n\t);\r\n\tcheckCreate !== null && checkCreate.toLowerCase() === \"o\"\r\n\t\t? callback() // function handling delete after confirmation\r\n\t\t: console.log(\"Abort create\");\r\n};\r\n\r\nexport const confirmCancel = (callback) => {\r\n\tlet checkCancel = prompt(\r\n\t\t'Etes-vous sûr(e) de vouloir annuler ? \\nSi oui, entrez \"o\".',\r\n\t\t\"non\"\r\n\t);\r\n\tcheckCancel !== null && checkCancel.toLowerCase() === \"o\"\r\n\t\t? callback() // function handling delete after confirmation\r\n\t\t: console.log(\"Abort delete\");\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createMeal, clearMessages } from \"../../store/actions/foodActions\";\r\nimport { confirmCreate } from \"../../utils/confirmationPrompts\";\r\n\r\nconst _MenuCreateForm = (props) => {\r\n\tconst foodState = useSelector((state) => state.foodStore);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [mealData, setMealData] = useState();\r\n\tconst [validation, setValidation] = useState(false);\r\n\tconst [validationErr, setValidationErr] = useState(false);\r\n\r\n\t// Empty fields check\r\n\tuseEffect(() => {\r\n\t\tif (!mealData) {\r\n\t\t\t//this condition prevents error message to appear at first render\r\n\t\t\tsetValidationErr(false);\r\n\t\t} else if (mealData.category === \"dessert\") {\r\n\t\t\tmealData.foodName && mealData.price\r\n\t\t\t\t? setValidationErr(false)\r\n\t\t\t\t: setValidationErr(true);\r\n\t\t} else {\r\n\t\t\tmealData.foodName && mealData.price && mealData.description\r\n\t\t\t\t? setValidationErr(false)\r\n\t\t\t\t: setValidationErr(true);\r\n\t\t}\r\n\t}, [mealData]);\r\n\r\n\t// Form events/functions\r\n\tconst handleChange = (e) =>\r\n\t\tsetMealData({ ...mealData, [e.target.name]: e.target.value });\r\n\r\n\tconst handleReset = () => props.history.go(0);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet callbackCreate = async () => {\r\n\t\t\tawait dispatch(createMeal(mealData));\r\n\t\t\tif (!foodState.errorMessage) setValidation(true);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetValidation(false);\r\n\t\t\t\t// if (!foodState.errorMessage) handleReset();\r\n\t\t\t\tdispatch(clearMessages());\r\n\t\t\t}, 6000);\r\n\t\t};\r\n\r\n\t\tconfirmCreate(mealData.foodName, callbackCreate); //func that calls the callbackCreate func after confirmation\r\n\t};\r\n\r\n\t// Messages\r\n\tconst displayMessage = () => {\r\n\t\tif (validationErr)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i> Veuillez renseigner\r\n\t\t\t\t\ttous les champs. <br />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\tif (foodState.errorMessage)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>{\" \"}\r\n\t\t\t\t\t{foodState.errorMessage.foodName}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\tif (validation)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\t{mealData.foodName} a bien été ajouté à la carte.\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"EditMenuForm form-container\">\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"mui-form\"\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t{/* --  NAME  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"foodName\" required />\r\n\t\t\t\t\t<label>Nom</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  CATEGORY  */}\r\n\t\t\t\t<div className=\"mui-select mui-select--float-label\">\r\n\t\t\t\t\t<select name=\"category\" required>\r\n\t\t\t\t\t\t<option hidden={true}></option>\r\n\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\tChoisir une catégorie de plat\r\n\t\t\t\t\t\t</option>\r\n\r\n\t\t\t\t\t\t<option value=\"antipasti\">antipasti</option>\r\n\t\t\t\t\t\t<option value=\"principal\">principal</option>\r\n\t\t\t\t\t\t<option value=\"dessert\">dessert</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<label>Catégorie</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  PRICE  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"number\" name=\"price\" min=\"1\" required />\r\n\t\t\t\t\t<label>Prix</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  DESC  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<textarea name=\"description\"></textarea>\r\n\t\t\t\t\t<label>Description</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  MESSAGES */}\r\n\t\t\t\t<>{displayMessage()}</>\r\n\t\t\t\t<div className=\"information-text\">\r\n\t\t\t\t\tLa description n'est pas requise pour les desserts.\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* --  BUTTONS  */}\r\n\t\t\t\t<div className=\"btn-group flex-row sp-btw\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={validationErr}\r\n\t\t\t\t\t\tclassName=\"mui-btn edit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-save\"></i> Enregistrer\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\tclassName=\"mui-btn mui-btn--flat mui\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className=\"fas fa-times\"></i> Effacer le formulaire\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_MenuCreateForm);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n\tgetMenu,\r\n\tupdateMeal,\r\n\tdeleteMeal,\r\n} from \"../../store/actions/foodActions\";\r\nimport { confirmDelete } from \"../../utils/confirmationPrompts\";\r\n\r\nconst _MenuUpdateForm = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\t//load the menu at first render and dispatch calls\r\n\tuseEffect(() => {\r\n\t\tdispatch(getMenu());\r\n\t}, [dispatch]);\r\n\r\n\tconst menu = useSelector((state) => state.foodStore.menu);\r\n\r\n\t//initial state with the properties of a meal\r\n\tconst [currentMeal, setCurrentMeal] = useState({});\r\n\tconst [confirmation, setConfirmation] = useState(false);\r\n\r\n\t//empty fields check\r\n\tconst validationErr = !currentMeal.foodName || !currentMeal.price || null;\r\n\r\n\t//events/functions\r\n\tconst handleChange = (e) => {\r\n\t\tif (e.target.name === \"pickedMeal\") {\r\n\t\t\tlet pickedMealId = e.target.value;\r\n\t\t\tlet pickedMeal = menu.filter((meal) => meal._id === pickedMealId)[0];\r\n\t\t\tsetCurrentMeal({\r\n\t\t\t\t...pickedMeal,\r\n\t\t\t\tdescription: pickedMeal.description || \"\", //because desert don't have description => prevents the other meals description to persist in state\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetCurrentMeal({ ...currentMeal, [e.target.name]: e.target.value });\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleReset = (e) => {\r\n\t\tconst initialData = menu.filter((meal) => meal._id === currentMeal._id)[0];\r\n\t\tsetCurrentMeal(initialData);\r\n\t};\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateMeal(currentMeal._id, currentMeal));\r\n\t\tsetConfirmation(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetConfirmation(false);\r\n\t\t}, 6000);\r\n\t};\r\n\r\n\tconst handleDelete = (e) => {\r\n\t\t//this function handles the actual delete\r\n\t\tlet callbackDelete = () => {\r\n\t\t\tdispatch(deleteMeal(currentMeal._id));\r\n\t\t\t//then, clear all fields :\r\n\t\t\tsetCurrentMeal({});\r\n\t\t\tdocument.getElementById(\"pickedMeal\").value = \"\";\r\n\t\t};\r\n\t\t//this function asks for confirmation and if so, executes the callbackDelete function\r\n\t\tconfirmDelete(currentMeal.foodName, callbackDelete);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"EditMenuForm form-container\">\r\n\t\t\t<form className=\"mui-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t{/* -- SELECTION => get the ID of selected meal */}\r\n\t\t\t\t<div className=\"mui-select\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"pickedMeal\"\r\n\t\t\t\t\t\tid=\"pickedMeal\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option hidden={true}>Plats de la carte</option>\r\n\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\tPlats de la carte\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t{menu.map((meal) => (\r\n\t\t\t\t\t\t\t<option key={meal._id} value={meal._id}>\r\n\t\t\t\t\t\t\t\t{meal.foodName}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<label>Plat à modifier</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{currentMeal._id && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{/* -- EDIT NAME  */}\r\n\t\t\t\t\t\t<div className=\"mui-textfield\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"foodName\"\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.foodName}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label>Modifier le nom</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* -- EDIT CATEGORY  */}\r\n\t\t\t\t\t\t<div className=\"mui-select\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tname=\"category\"\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.category}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option hidden={true}>\r\n\t\t\t\t\t\t\t\t\t{currentMeal.category &&\r\n\t\t\t\t\t\t\t\t\t\t`Catégorie initiale : ${currentMeal.category}`}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\t\t\tCatégorie initiale : {currentMeal.category}\r\n\t\t\t\t\t\t\t\t</option>\r\n\r\n\t\t\t\t\t\t\t\t<option value=\"antipasti\">antipasti</option>\r\n\t\t\t\t\t\t\t\t<option value=\"principal\">principal</option>\r\n\t\t\t\t\t\t\t\t<option value=\"dessert\">dessert</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t<label>Modifier la catégorie</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* -- EDIT PRICE  */}\r\n\t\t\t\t\t\t<div className=\"mui-textfield\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.price}\r\n\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label>Modifier le prix</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* -- EDIT DESCRIPTION  */}\r\n\t\t\t\t\t\t<div className=\"mui-textfield\">\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tvalue={currentMeal.description}\r\n\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t\t<label>Modifier la description</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* UPDATE CONFIRMATION MESSAGE */}\r\n\t\t\t\t\t\t{confirmation && (\r\n\t\t\t\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\t\t\t\tVos modifications ont bien été prises en compte.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{validationErr && (\r\n\t\t\t\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i> Veuillez\r\n\t\t\t\t\t\t\t\trenseigner tous les champs.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* -- BUTTONS  */}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\" //prevent form submit\r\n\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn--flat mui\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i> Effacer les modifications\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div className=\"btn-group flex-row sp-btw\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\" //prevent form submit\r\n\t\t\t\t\t\t\t\tonClick={handleDelete}\r\n\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn--flat mui\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-trash-alt\"></i> Supprimer le plat\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={validationErr} //prevent form submit if a required field is empty\r\n\t\t\t\t\t\t\t\tclassName=\"mui-btn edit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-pen-fancy\"></i> Modifier\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(_MenuUpdateForm);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport MenuCreateForm from \"../forms/_MenuCreateForm\";\r\nimport MenuUpdateForm from \"../forms/_MenuUpdateForm\";\r\n\r\nconst EditMenu = (props) => {\r\n\tdocument.title = \"Admin | modification menu\";\r\n\r\n\treturn (\r\n\t\t<div className=\"EditMenu AdminPage\">\r\n\t\t\t{props.match.params.mode === \"update\" && (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<header className=\"form-header\">\r\n\t\t\t\t\t\t<h2 className=\"sub-title\">Modifier la carte</h2>\r\n\t\t\t\t\t\t<Link to=\"/menu\" className=\"nav-link\" target=\"_blank\">\r\n\t\t\t\t\t\t\tVoir la carte\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/admin/menu/create\" className=\"nav-link\">\r\n\t\t\t\t\t\t\tAjouter un plat\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<MenuUpdateForm />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)}\r\n\t\t\t{props.match.params.mode === \"create\" && (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<header className=\"form-header\">\r\n\t\t\t\t\t\t<h2 className=\"sub-title\">Ajouter un plat</h2>\r\n\t\t\t\t\t\t<Link to=\"/menu\" className=\"nav-link\" target=\"_blank\">\r\n\t\t\t\t\t\t\tVoir la carte\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<MenuCreateForm />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(EditMenu);\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_SERVER_URL + \"/api/users\",\r\n\twithCredentials: true,\r\n});\r\n\r\nconst api = {\r\n\tservice,\r\n\r\n\tgetAllUsers() {\r\n\t\treturn service.get(\"/\");\r\n\t},\r\n\r\n\tgetOneUser(id) {\r\n\t\treturn service.get(`/${id}`);\r\n\t},\r\n\r\n\tdeleteUser(id) {\r\n\t\treturn service.delete(`/delete/${id}`);\r\n\t},\r\n\r\n\tupdateUser(id, user) {\r\n\t\treturn service.patch(`/edit/${id}`, user);\r\n\t},\r\n};\r\n\r\nexport default api;\r\n","import userApi from \"./../../api/userApiHandler\";\r\n\r\n/* Errors dispatching */\r\nexport const errorActionCreator = (errorType, error) => {\r\n\treturn {\r\n\t\ttype: errorType,\r\n\t\terror: true,\r\n\t\tpayload: error,\r\n\t};\r\n};\r\n\r\n/* Get the employees list */\r\nexport const getAllUsers = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await userApi.getAllUsers();\r\n\t\t\tdispatch({ type: \"users/getAllUsers\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"users/getAllUsers_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Get one employee */\r\nexport const getUser = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst res = await userApi.getOneUser(id);\r\n\t\t\tdispatch({ type: \"users/getUser\", payload: res.data });\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(errorActionCreator(\"users/getUser_error\", err));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/* Update employee's infos */\r\nexport const updateUser = (id, updatedInfos) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await userApi.updateUser(id, updatedInfos);\r\n\t\tdispatch({ type: \"users/update\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"users/update_error\", err));\r\n\t}\r\n};\r\n\r\n/* Delete an employee */\r\nexport const deleteUser = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await userApi.deleteUser(id);\r\n\t\tdispatch({ type: \"users/delete\", payload: res.data });\r\n\t} catch (err) {\r\n\t\tdispatch(errorActionCreator(\"users/delete_error\", err));\r\n\t}\r\n};\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { registerUser, clearMessages } from \"./../../store/actions/authActions\";\r\nimport { getAllUsers } from \"./../../store/actions/userActions\";\r\n\r\nconst _EmployeeRegistrationForm = () => {\r\n\tconst auth = useSelector((state) => state.authStore);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleSubmit = async (evt) => {\r\n\t\tevt.preventDefault();\r\n\t\tconst newUser = {\r\n\t\t\tlastName: evt.target.elements[0].value,\r\n\t\t\tfirstName: evt.target.elements[1].value,\r\n\t\t\temail: evt.target.elements[2].value,\r\n\t\t\tpassword: evt.target.elements[3].value,\r\n\t\t\tprivileges: evt.target.elements[4].value,\r\n\t\t};\r\n\r\n\t\tawait dispatch(registerUser(newUser));\r\n\t\tawait dispatch(getAllUsers());\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearMessages());\r\n\t\t}, 5000);\r\n\t};\r\n\r\n\tconst errorMessageFor = (field) => {\r\n\t\tif (auth.invalidCredentials?.[field])\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"form-error-msg\">\r\n\t\t\t\t\t<i className=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t{\"   \"}\r\n\t\t\t\t\t{auth.invalidCredentials[field]}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"EmployeeRegistrationForm form-container\">\r\n\t\t\t<h3>Enregistrer un(e) nouvel(le) employé(e)</h3>\r\n\t\t\t<form className=\"mui-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t{/* --  LASTNAME  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"lastName\" required />\r\n\t\t\t\t\t<label>Nom</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"lastName\")}\r\n\r\n\t\t\t\t{/* --  FIRSTNAME  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"text\" name=\"firstName\" required />\r\n\t\t\t\t\t<label>Prénom</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"firstName\")}\r\n\r\n\t\t\t\t{/* --  EMAIL  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"email\" name=\"email\" required />\r\n\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"email\")}\r\n\r\n\t\t\t\t{/* --  PASSWORD  */}\r\n\t\t\t\t<div className=\"mui-textfield mui-textfield--float-label\">\r\n\t\t\t\t\t<input type=\"password\" name=\"email\" required />\r\n\t\t\t\t\t<label>Mot de passe</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"password\")}\r\n\r\n\t\t\t\t{/* --  PRIVILEGE  */}\r\n\t\t\t\t<div className=\"mui-select mui-select--float-label\">\r\n\t\t\t\t\t<select name=\"privileges\" required>\r\n\t\t\t\t\t\t<option hidden={true}></option>\r\n\t\t\t\t\t\t<option disabled=\"disabled\" default={true}>\r\n\t\t\t\t\t\t\tChoisir une catégorie (manager et chef sont admin)\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"admin\">Manager ou Chef</option>\r\n\t\t\t\t\t\t<option value=\"employee\">Serveur(euse) ou commis</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<label>Catégorie d'emploi</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Error Message */}\r\n\t\t\t\t{errorMessageFor(\"privileges\")}\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"mui-btn mui-btn--flat mui\">\r\n\t\t\t\t\tEnregistrer\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\r\n\t\t\t{/* Success Message */}\r\n\t\t\t{auth.successMessage && (\r\n\t\t\t\t<div className=\"info-box\">{auth.successMessage}</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default _EmployeeRegistrationForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAllUsers, deleteUser } from \"./../../store/actions/userActions\";\r\nimport { confirmDelete } from \"./../../utils/confirmationPrompts\";\r\n\r\nconst _EmployeesListTable = () => {\r\n\tconst userState = useSelector((state) => state.userStore);\r\n\tconst authState = useSelector((state) => state.authStore);\r\n\tconst [deletedEmployee, setDeletedEmployee] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(getAllUsers());\r\n\t}, [dispatch]);\r\n\r\n\tconst handleDelete = (e) => {\r\n\t\tconst employeeId = e.target.value;\r\n\t\tconst userToDelete = userState.users.find(\r\n\t\t\t(employee) => employee._id === employeeId\r\n\t\t);\r\n\r\n\t\tlet callbackDelete = async () => {\r\n\t\t\tawait dispatch(deleteUser(employeeId));\r\n\t\t\tawait dispatch(getAllUsers());\r\n\r\n\t\t\tif (!userState.errorMessage) setDeletedEmployee(userToDelete);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetDeletedEmployee(null);\r\n\t\t\t}, 3000);\r\n\t\t};\r\n\r\n\t\tconfirmDelete(\r\n\t\t\t`${userToDelete.firstName} ${userToDelete.lastName} du staff`,\r\n\t\t\tcallbackDelete\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{deletedEmployee && (\r\n\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\tVous venez de supprimer {deletedEmployee.firstName}{\" \"}\r\n\t\t\t\t\t{deletedEmployee.lastName} du staff.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<table className=\"table of-employees\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Nom</th>\r\n\t\t\t\t\t\t<th>Prénom</th>\r\n\t\t\t\t\t\t<th>Pseudo</th>\r\n\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{userState.users.map((employee) => (\r\n\t\t\t\t\t\t<tr key={employee._id} className=\"row\">\r\n\t\t\t\t\t\t\t<td>{employee.lastName}</td>\r\n\t\t\t\t\t\t\t<td>{employee.firstName}</td>\r\n\t\t\t\t\t\t\t<td>{employee.pseudo}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{employee.privileges === \"admin\"\r\n\t\t\t\t\t\t\t\t\t? \"Manager/Chef(fe)\"\r\n\t\t\t\t\t\t\t\t\t: \"Serveur(euse)/Commis\"}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{authState.user._id !== employee._id && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={employee._id}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleDelete}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mui-btn mui-btn delete\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tx\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default _EmployeesListTable;\r\n","import React from \"react\";\r\nimport EmployeeRegistrationForm from \"../forms/_EmployeeRegistrationForm\";\r\nimport EmployeesListTable from \"./_EmployeesListTable\";\r\n\r\nconst EmployeesList = () => {\r\n\tdocument.title = \"Admin | personnel\";\r\n\r\n\treturn (\r\n\t\t<div className=\"EmployeesList AdminPage\">\r\n\t\t\t<h2 className=\"sub-title\">Liste du personnel</h2>\r\n\r\n\t\t\t<div className=\"flex-row sp-btw align-start\">\r\n\t\t\t\t<EmployeesListTable />\r\n\t\t\t\t<EmployeeRegistrationForm />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EmployeesList;\r\n","import \"./styles/App.sass\";\n\nimport { Route, BrowserRouter, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./components/auth/PrivateRoute\";\nimport Navbar from \"./components/navMain/Navbar\";\nimport Home from \"./components/homePages/Home\";\nimport Menu from \"./components/Menu\";\nimport Reservation from \"./components/Reservation\";\nimport Footer from \"./components/footer/Footer\";\nimport LogIn from \"./components/auth/LogIn\";\nimport ReservationList from \"./components/adminPages/ReservationList\";\nimport EditMenu from \"./components/adminPages/EditMenu\";\nimport EmployeesList from \"./components/adminPages/EmployeesList\";\n\nfunction App() {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<div className=\"App\">\n\t\t\t\t<Navbar />\n\n\t\t\t\t<Switch>\n\t\t\t\t\t{/* PUBLIC ROUTES */}\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route exact path=\"/menu\" component={Menu} />\n\t\t\t\t\t<Route exact path=\"/reservation\" component={Reservation} />\n\n\t\t\t\t\t{/* ADMIN ROUTES */}\n\t\t\t\t\t<Route path=\"/admin/login\" component={LogIn} />\n\t\t\t\t\t<PrivateRoute path=\"/admin/staff\" component={EmployeesList} />\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tpath=\"/admin/reservations\"\n\t\t\t\t\t\tcomponent={ReservationList}\n\t\t\t\t\t/>\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\tpath=\"/admin/menu/:mode(create|update)\"\n\t\t\t\t\t\tcomponent={EditMenu}\n\t\t\t\t\t/>\n\t\t\t\t</Switch>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const initState = {\r\n\tisAuthentificated: false,\r\n\tuser: null, // = {_id, firstName, privileges}\r\n\tsuccessMessage: null,\r\n\tinvalidCredentials: null,\r\n\twarningMessage: null,\r\n};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/registerUser\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage || null,\r\n\t\t\t\tinvalidCredentials: null,\r\n\t\t\t};\r\n\r\n\t\tcase \"auth/registerUser_error\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinvalidCredentials: action.payload.response.data.errors || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/login\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: action.payload ? true : false,\r\n\t\t\t\tuser: action.payload.user || null,\r\n\t\t\t\tsuccessMessage: action.payload.message || null,\r\n\t\t\t};\r\n\r\n\t\tcase \"auth/login_error\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinvalidCredentials: action.payload.response.data.errors || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/isLoggedIn\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: action.payload ? true : false,\r\n\t\t\t\tuser: action.payload.user || null,\r\n\t\t\t};\r\n\r\n\t\tcase \"auth/isLoggedIn_error\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tinvalidCredentials: action.payload.response.data.errors || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/logout\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthentificated: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage || null,\r\n\t\t\t};\r\n\r\n\t\t//----------------------------------------\r\n\t\tcase \"auth/clearMessages\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessMessage: null,\r\n\t\t\t\tinvalidCredentials: null,\r\n\t\t\t\twarningMessage: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","const initState = {\r\n\tusers: [],\r\n\terrorMessages: null,\r\n};\r\n\r\nconst userReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//--------------------------\r\n\t\tcase \"users/getAllUsers\":\r\n\t\t\tconsole.log(\"reducer got : \" + action.payload.length + \" employees\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"users/getAllUsers_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"users/getUser\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpickedUser: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"users/getUser_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"users/update\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map((user) =>\r\n\t\t\t\t\tuser._id === action.payload._id ? action.payload : user\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase \"users/update_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"users/delete\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.filter((user) => user._id !== action.payload._id),\r\n\t\t\t};\r\n\r\n\t\tcase \"users/delete_error\":\r\n\t\t\tconsole.log(\"reducer got an error :\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessages: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default userReducer;\r\n","const initState = {\r\n\tmenu: [],\r\n\terrorMessage: null,\r\n};\r\n\r\nconst foodReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//--------------------------\r\n\t\tcase \"food/getMenu\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"food/getMenu_error\":\r\n\t\t\tconsole.log(\"reducer => fail to get the menu: \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/getMeal\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpickedMeal: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"food/getMeal_error\":\r\n\t\t\tconsole.log(\"reducer => fail to getting a meal:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/create\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: [...state.menu, action.payload],\r\n\t\t\t};\r\n\r\n\t\tcase \"food/create_error\":\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"reducer => fail to create meal:\",\r\n\t\t\t\taction.payload.response.data.errors\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/update\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: state.menu.map((meal) =>\r\n\t\t\t\t\tmeal._id === action.payload._id ? action.payload : meal\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase \"food/update_error\":\r\n\t\t\tconsole.log(\"reducer => fail to update meal:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/delete\":\r\n\t\t\tconsole.log(\"deleted : \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmenu: state.menu.filter((meal) => meal._id !== action.payload._id),\r\n\t\t\t};\r\n\r\n\t\tcase \"food/delete_error\":\r\n\t\t\tconsole.log(\"reducer => fail to delete meal:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"food/clearMessages\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default foodReducer;\r\n","const initState = {\r\n\treservations: [],\r\n\tslot: null,\r\n\tclient: null,\r\n\tisAvailable: false,\r\n\ttables: [],\r\n\tmessage: null,\r\n\tsuccessMessage: null,\r\n\terrorMessage: null,\r\n};\r\n\r\nconst reservationReducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/getReservations\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: action.payload.bookedTables,\r\n\t\t\t\tmessage: action.payload.message || null,\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/getReservations_error\":\r\n\t\t\tconsole.log(\"reducer => fail to get the reservations: \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: [],\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/slot\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tslot: action.payload.slot,\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/slot_error\":\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"reducer => fail to create/get slot :\",\r\n\t\t\t\taction.payload.response.data.errors\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tslot: null,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/create\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tslot: action.payload.slot,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage,\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/create_error\":\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"reducer => fail to create reservation:\",\r\n\t\t\t\taction.payload.response.data.errors\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/cancel\":\r\n\t\t\tconsole.log(\"canceled : \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsuccessMessage: action.payload.successMessage,\r\n\t\t\t\treservations: state.reservations.filter(\r\n\t\t\t\t\t(reservation) => reservation._id !== action.payload.slot._id\r\n\t\t\t\t),\r\n\t\t\t};\r\n\r\n\t\tcase \"reservation/cancel_error\":\r\n\t\t\tconsole.log(\"reducer => failed to cancel reservation:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"tables/getAll\":\r\n\t\t\tconsole.log(\"list of tables : \", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttables: action.payload.tables,\r\n\t\t\t};\r\n\r\n\t\tcase \"tables/getAll_error\":\r\n\t\t\tconsole.log(\"reducer => failed to get tables:\", action.payload);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrorMessage: action.payload.response.data.errors,\r\n\t\t\t};\r\n\r\n\t\t//--------------------------\r\n\t\tcase \"reservation/clearMessages\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessage: null,\r\n\t\t\t\tsuccessMessage: null,\r\n\t\t\t\terrorMessage: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./_authReducer\";\r\nimport userReducer from \"./_userReducer\";\r\nimport foodReducer from \"./_foodReducer\";\r\nimport reservationReducer from \"./_reservationReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n\tauthStore: authReducer,\r\n\tuserStore: userReducer,\r\n\tfoodStore: foodReducer,\r\n\treservationStore: reservationReducer,\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles/index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n/* Redux store */\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"./store/reducers/rootReducer\";\r\nimport { isLoggedIn } from \"./store/actions/authActions\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tcomposeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\n/* Authentification check */\r\n\r\nif (localStorage.sessionCookie && localStorage.sessionUser) {\r\n\tconst session = JSON.parse(localStorage.sessionCookie);\r\n\tconst currentUser = JSON.parse(localStorage.sessionUser);\r\n\r\n\t// This dispatch prevents quick redirection on page refresh while user is logged in (before the async isLoggedIn action bellow is done)\r\n\tstore.dispatch({\r\n\t\ttype: \"auth/isLoggedIn\",\r\n\t\tpayload: { user: currentUser },\r\n\t});\r\n\r\n\t// has session expired ?\r\n\tlet now = new Date();\r\n\tlet sessionEnd = new Date(session.expires);\r\n\tif (sessionEnd.getTime() < now.getTime()) {\r\n\t\tconsole.log(\"Session ended >>> Redirection to homepage.\");\r\n\t\tlocalStorage.removeItem(\"sessionCookie\");\r\n\t\tlocalStorage.removeItem(\"sessionUser\");\r\n\t\tstore.dispatch({\r\n\t\t\ttype: \"auth/logout\",\r\n\t\t\tpayload: { successMessage: \"La session a expirée. Reconnectez-vous.\" },\r\n\t\t});\r\n\t} else {\r\n\t\tstore.dispatch(isLoggedIn(currentUser._id));\r\n\t}\r\n} else {\r\n\tlocalStorage.removeItem(\"sessionCookie\");\r\n\tlocalStorage.removeItem(\"sessionUser\");\r\n}\r\n\r\n/* --------------------------------- */\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}